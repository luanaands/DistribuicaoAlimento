@model DistribuaAlimento.Models.Evento

@{
    ViewBag.Title = "Evento";
}

<div class="titulo-pagina"> Cadastro de Alvará </div>

<div class="col-md-10 col-lg-offset-1">

    @using (Html.BeginForm("Create", "Evento"))
    {
        @Html.AntiForgeryToken()

        <div class="panel panel-success" id="panel" name="panel">
            <div class="panel-heading">
                <div class="panel-title"></div>
            </div>

            <div class="panel-body" id="panelEvento" name="panelEvento">

                @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                <div class="form-group col-lg-4 text-left">
                    @Html.LabelFor(model => model.nome)
                    @Html.EditorFor(model => model.nome, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.nome, "", new { @class = "text-danger" })
                </div>

                <div class="form-group col-lg-4 text-left">
                    @Html.LabelFor(model => model.numeroEstimadoPessoas)
                    @Html.EditorFor(model => model.numeroEstimadoPessoas, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.numeroEstimadoPessoas, "", new { @class = "text-danger" })
                </div>

                <div class="form-group col-lg-4 text-left">
                    @Html.LabelFor(model => model.numCtaJudicial)
                    @Html.EditorFor(model => model.numCtaJudicial, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.numCtaJudicial, "", new { @class = "text-danger" })
                </div>

                <div class="form-group col-lg-4 text-left">
                    @Html.LabelFor(model => model.idTipoReceita)
                    @Html.DropDownListFor(g => g.idTipoReceita, new SelectList(ViewBag.tipoReceita, "Id", "Descricao"), null, htmlAttributes: new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.idTipoReceita, string.Empty, new { @class = "text-danger" })
                </div>

                <div class="form-group col-lg-2 text-left">
                    @Html.LabelFor(model => model.execFiscal)
                    @Html.DropDownListFor(g => g.execFiscal, new List<SelectListItem>{
                    new SelectListItem { Text = "SIM", Value = "S" },
                    new SelectListItem { Text = "NÃO", Value = "N" }
                    }, null, htmlAttributes: new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.execFiscal, "", new { @class = "text-danger" })
                </div>

                <div class="form-group col-lg-2 text-left">
                    @Html.LabelFor(model => model.dataEmis)
                    <div class='input-group date' id='dpDataEmis' name='dpDataEmis'>
                        <input type='text' id='dataEmis' name='dataEmis' class="form-control" required />
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                    </div>
                    @Html.ValidationMessageFor(model => model.dataEmis, "", new { @class = "text-danger" })
                </div>

                <div class="form-group col-lg-2 text-left">
                    @Html.LabelFor(model => model.valorHistorico)
                    @Html.TextBoxFor(model => model.valorHistorico, new { @class = "form-control text-right" })
                </div>

                <div class="form-group col-lg-2 text-left">
                    @Html.LabelFor(model => model.valorEfetivo)
                    @Html.TextBoxFor(model => model.valorEfetivo, new { @class = "form-control text-right" })
                </div>
            </div>
        </div>
        <div class="text-left">
            <input type="submit" value="Salvar" class="btn btn-primary" />
            <input type="button" value="Cancelar" onclick="location.href='@Url.Action("Index", "Alvara")'" class="btn btn-warning" />
        </div>
    }

    <input type='hidden' id='msgErro' value='@ViewBag.msgErro' />

    @section Scripts {

        <script>

            $(document).ready(function () {
                if ($("#msgErro").val() != null && $("#msgErro").val() != "") {
                    ExibirNotificacaoErro([$("#msgErro").val()]);
                }
            });


            $('#dpDataEmis').datepicker({
                locale: 'pt-BR',
                format: 'dd/mm/yyyy',
                useCurrent: false,
                autoclose: true,
                todayHighlight: true
            });

            $('#valorHistorico').maskMoney({ prefix: 'R$ ', allowNegative: false, thousands: '', decimal: ',', affixesStay: false });
            $('#valorEfetivo').maskMoney({ prefix: 'R$ ', allowNegative: false, thousands: '', decimal: ',', affixesStay: false });

        </script>

        @Scripts.Render("~/bundles/jqueryval")
    }
</div>